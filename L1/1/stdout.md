[Назад](/L1/L1_.md)

## сколько потоков/рутин может одновременно писать в STDOUT

Сколько угодно.

Однако, так как STDOUT является общим ресурсом, доступ к нему должен быть синхронизирован для предотвращения состояния гонки. Например через мъютекс.


--------------------------------------------------------------
В Go одновременно может работать несколько горутин, и каждая из них может писать в STDOUT (стандартный поток вывода). Однако, так как STDOUT является общим ресурсом, доступ к нему должен быть синхронизирован для предотвращения состояния гонки. В простых случаях, когда горутины выполняют независимые операции вывода, можно использовать мьютекс для блокировки доступа к STDOUT. Это позволяет только одной горутине писать в STDOUT в определенный момент времени, предотвращая конфликты доступа и смешивание вывода.

Пример использования мьютекса для синхронизации доступа к STDOUT:

go
package main

import (
 "fmt"
 "sync"
)

var mutex sync.Mutex

func printMessage(message string) {
 mutex.Lock()
 defer mutex.Unlock()

 fmt.Println(message)
}

func main() {
 go printMessage("Hello")
 go printMessage("World")

 // Ждем завершения горутин
 time.Sleep(time.Second)
}


В этом примере мы используем мьютекс mutex для блокировки доступа к функции fmt.Println, которая записывает данные в STDOUT. Каждая горутина вызывает функцию printMessage для вывода своего сообщения, и блокирует мьютекс до тех пор, пока не закончит запись. Это гарантирует, что вывод каждой горутины будет синхронизирован и не будет перепутан с выводом других горутин.